{"failedCount":0,"prefixedPath":"organizations\/organizations.feature","packageQualifiedName":"organizations.organizations","loopIndex":-1,"relativePath":"organizations\/organizations.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":317982,"millis":0.317982,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":11637054,"millis":11.637054,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":1861547,"millis":1.861547,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"configure readTimeout = 600000"}},{"result":{"nanos":5793661,"millis":5.793661,"status":"passed"},"step":{"endLine":13,"line":9,"prefix":"*","index":0,"text":"table organizations","table":[{"line":10,"row":["currentUserEmail","name","label"]},{"line":11,"row":["\"test_donna@test.whitebrick.com\"","\"test_donnas-media\"","\"Donna's Media\""]},{"line":12,"row":["\"test_donna@test.whitebrick.com\"","\"test_admins-org\"","\"Admins Test Org\""]},{"line":13,"row":["\"test_nick_north@test.whitebrick.com\"","\"test_vandelay\"","\"Vandelay Industries\""]}]}},{"result":{"nanos":812295357,"millis":812.295357,"status":"passed"},"step":{"line":14,"prefix":"*","index":1,"text":"def result = call read(\"organization-create.feature\") organizations"},"callResults":[{"prefixedPath":"organizations\/organization-create.feature","loopIndex":0,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":516.541498,"callArg":{"currentUserEmail":"test_donna@test.whitebrick.com","name":"test_donnas-media","label":"Donna's Media"},"failedCount":0,"packageQualifiedName":"organizations.organization-create","relativePath":"organizations\/organization-create.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":20356,"millis":0.020356,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":568498,"millis":0.568498,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":202697,"millis":0.202697,"status":"passed"},"step":{"endLine":15,"line":8,"prefix":"Given","docString":"mutation ($name: String!, $label: String!){\n  wbCreateOrganization(name: $name, label: $label){\n    id\n  }\n}","index":0,"text":"text query ="}},{"result":{"nanos":52229323,"millis":52.229323,"status":"passed"},"step":{"line":16,"prefix":"And","index":1,"text":"def variables = { name: \"#(name)\", label: \"#(label)\" }"}},{"result":{"nanos":85768,"millis":0.085768,"status":"passed"},"step":{"line":17,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":6601528,"millis":6.601528,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":456811958,"millis":456.811958,"status":"passed"},"step":{"line":19,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:38.267 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_donna@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 189\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"name\":\"test_donnas-media\",\"label\":\"Donna's Media\"},\"query\":\"mutation ($name: String!, $label: String!){\\n  wbCreateOrganization(name: $name, label: $label){\\n    id\\n  }\\n}\"}\n\n19:56:38.415 response time in milliseconds: 144\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 47\n1 < vary: origin\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:38 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"data\":{\"wbCreateOrganization\":{\"id\":\"976\"}}}\n"},{"result":{"nanos":21370,"millis":0.02137,"status":"passed"},"step":{"line":20,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Create an Organization","description":"","durationMillis":516.541498,"startTime":1626134197900,"failed":false,"refId":"[1:7]","endTime":1626134198417,"exampleIndex":-1}],"name":"","passedCount":1},{"prefixedPath":"organizations\/organization-create.feature","loopIndex":1,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":109.047706,"callArg":{"currentUserEmail":"test_donna@test.whitebrick.com","name":"test_admins-org","label":"Admins Test Org"},"failedCount":0,"packageQualifiedName":"organizations.organization-create","relativePath":"organizations\/organization-create.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":18768,"millis":0.018768,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":422896,"millis":0.422896,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":163610,"millis":0.16361,"status":"passed"},"step":{"endLine":15,"line":8,"prefix":"Given","docString":"mutation ($name: String!, $label: String!){\n  wbCreateOrganization(name: $name, label: $label){\n    id\n  }\n}","index":0,"text":"text query ="}},{"result":{"nanos":692915,"millis":0.692915,"status":"passed"},"step":{"line":16,"prefix":"And","index":1,"text":"def variables = { name: \"#(name)\", label: \"#(label)\" }"}},{"result":{"nanos":23074,"millis":0.023074,"status":"passed"},"step":{"line":17,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":436807,"millis":0.436807,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":107276502,"millis":107.276502,"status":"passed"},"step":{"line":19,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:38.430 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_donna@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 189\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"name\":\"test_admins-org\",\"label\":\"Admins Test Org\"},\"query\":\"mutation ($name: String!, $label: String!){\\n  wbCreateOrganization(name: $name, label: $label){\\n    id\\n  }\\n}\"}\n\n19:56:38.534 response time in milliseconds: 104\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 47\n1 < vary: origin\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:38 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"data\":{\"wbCreateOrganization\":{\"id\":\"977\"}}}\n"},{"result":{"nanos":13134,"millis":0.013134,"status":"passed"},"step":{"line":20,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Create an Organization","description":"","durationMillis":109.047706,"startTime":1626134198426,"failed":false,"refId":"[1:7]","endTime":1626134198535,"exampleIndex":-1}],"name":"","passedCount":1},{"prefixedPath":"organizations\/organization-create.feature","loopIndex":2,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":106.656045,"callArg":{"currentUserEmail":"test_nick_north@test.whitebrick.com","name":"test_vandelay","label":"Vandelay Industries"},"failedCount":0,"packageQualifiedName":"organizations.organization-create","relativePath":"organizations\/organization-create.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":23627,"millis":0.023627,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":465403,"millis":0.465403,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":154142,"millis":0.154142,"status":"passed"},"step":{"endLine":15,"line":8,"prefix":"Given","docString":"mutation ($name: String!, $label: String!){\n  wbCreateOrganization(name: $name, label: $label){\n    id\n  }\n}","index":0,"text":"text query ="}},{"result":{"nanos":656024,"millis":0.656024,"status":"passed"},"step":{"line":16,"prefix":"And","index":1,"text":"def variables = { name: \"#(name)\", label: \"#(label)\" }"}},{"result":{"nanos":23892,"millis":0.023892,"status":"passed"},"step":{"line":17,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":473015,"millis":0.473015,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":104847208,"millis":104.847208,"status":"passed"},"step":{"line":19,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:38.551 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_nick_north@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 191\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"name\":\"test_vandelay\",\"label\":\"Vandelay Industries\"},\"query\":\"mutation ($name: String!, $label: String!){\\n  wbCreateOrganization(name: $name, label: $label){\\n    id\\n  }\\n}\"}\n\n19:56:38.649 response time in milliseconds: 97\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 47\n1 < vary: origin\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:38 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"data\":{\"wbCreateOrganization\":{\"id\":\"978\"}}}\n"},{"result":{"nanos":12734,"millis":0.012734,"status":"passed"},"step":{"line":20,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Create an Organization","description":"","durationMillis":106.656045,"startTime":1626134198542,"failed":false,"refId":"[1:7]","endTime":1626134198650,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":11766270,"millis":11.76627,"status":"passed"},"step":{"line":15,"prefix":"*","index":2,"text":"match each result[*].response contains { errors: \"#notpresent\" }"}}],"executorName":"main","line":8,"name":"Anyone signed-in can create organizations","description":"","durationMillis":843.671871,"startTime":1626134197668,"failed":false,"refId":"[1:8]","endTime":1626134198662,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":24340,"millis":0.02434,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":387808,"millis":0.387808,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":239032,"millis":0.239032,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"configure readTimeout = 600000"}},{"result":{"nanos":3710412,"millis":3.710412,"status":"passed"},"step":{"endLine":23,"line":18,"prefix":"*","index":0,"text":"table organizationUsers","table":[{"line":19,"row":["currentUserEmail","organizationName","roleName","userEmails"]},{"line":20,"row":["\"test_donna@test.whitebrick.com\"","\"test_donnas-media\"","\"organization_user\"","[\"test_debbie@test.whitebrick.com\"]"]},{"line":21,"row":["\"test_donna@test.whitebrick.com\"","\"test_donnas-media\"","\"organization_external_user\"","[\"test_daisy@test.whitebrick.com\"]"]},{"line":22,"row":["\"test_donna@test.whitebrick.com\"","\"test_admins-org\"","\"organization_administrator\"","[\"test_daisy@test.whitebrick.com\"]"]},{"line":23,"row":["\"test_nick_north@test.whitebrick.com\"","\"test_vandelay\"","\"organization_user\"","[\"test_donna@test.whitebrick.com\", \"test_daisy@test.whitebrick.com\"]"]}]}},{"result":{"nanos":364471299,"millis":364.471299,"status":"passed"},"step":{"line":24,"prefix":"*","index":1,"text":"def result = call read(\"organization-set-users-role.feature\") organizationUsers"},"callResults":[{"prefixedPath":"organizations\/organization-set-users-role.feature","loopIndex":0,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":93.164985,"callArg":{"currentUserEmail":"test_donna@test.whitebrick.com","organizationName":"test_donnas-media","userEmails":["test_debbie@test.whitebrick.com"],"roleName":"organization_user"},"failedCount":0,"packageQualifiedName":"organizations.organization-set-users-role","relativePath":"organizations\/organization-set-users-role.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":26256,"millis":0.026256,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":467782,"millis":0.467782,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":153757,"millis":0.153757,"status":"passed"},"step":{"endLine":13,"line":8,"prefix":"Given","docString":"mutation ($organizationName: String!, $userEmails: [String]!, $roleName: String!){\n  wbSetOrganizationUsersRole(organizationName: $organizationName, userEmails: $userEmails, roleName: $roleName)\n}","index":0,"text":"text query ="}},{"result":{"nanos":3068710,"millis":3.06871,"status":"passed"},"step":{"comments":["# Given def query = read(\"test.gql\")"],"line":15,"prefix":"And","index":1,"text":"def variables = { organizationName: \"#(organizationName)\", roleName: \"#(roleName)\", userEmails: \"#(userEmails)\" }"}},{"result":{"nanos":34089,"millis":0.034089,"status":"passed"},"step":{"line":16,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":643355,"millis":0.643355,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":88760405,"millis":88.760405,"status":"passed"},"step":{"line":18,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:38.691 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_donna@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 343\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"organizationName\":\"test_donnas-media\",\"userEmails\":[\"test_debbie@test.whitebrick.com\"],\"roleName\":\"organization_user\"},\"query\":\"mutation ($organizationName: String!, $userEmails: [String]!, $roleName: String!){\\n  wbSetOrganizationUsersRole(organizationName: $organizationName, userEmails: $userEmails, roleName: $roleName)\\n}\"}\n\n19:56:38.777 response time in milliseconds: 85\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 45\n1 < vary: origin\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:38 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"data\":{\"wbSetOrganizationUsersRole\":true}}\n"},{"result":{"nanos":10631,"millis":0.010631,"status":"passed"},"step":{"line":19,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Set organization role","description":"","durationMillis":93.164985,"startTime":1626134198684,"failed":false,"refId":"[1:7]","endTime":1626134198777,"exampleIndex":-1}],"name":"","passedCount":1},{"prefixedPath":"organizations\/organization-set-users-role.feature","loopIndex":1,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":84.137771,"callArg":{"currentUserEmail":"test_donna@test.whitebrick.com","organizationName":"test_donnas-media","userEmails":["test_daisy@test.whitebrick.com"],"roleName":"organization_external_user"},"failedCount":0,"packageQualifiedName":"organizations.organization-set-users-role","relativePath":"organizations\/organization-set-users-role.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":36214,"millis":0.036214,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":313920,"millis":0.31392,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":89056,"millis":0.089056,"status":"passed"},"step":{"endLine":13,"line":8,"prefix":"Given","docString":"mutation ($organizationName: String!, $userEmails: [String]!, $roleName: String!){\n  wbSetOrganizationUsersRole(organizationName: $organizationName, userEmails: $userEmails, roleName: $roleName)\n}","index":0,"text":"text query ="}},{"result":{"nanos":437024,"millis":0.437024,"status":"passed"},"step":{"comments":["# Given def query = read(\"test.gql\")"],"line":15,"prefix":"And","index":1,"text":"def variables = { organizationName: \"#(organizationName)\", roleName: \"#(roleName)\", userEmails: \"#(userEmails)\" }"}},{"result":{"nanos":15353,"millis":0.015353,"status":"passed"},"step":{"line":16,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":335625,"millis":0.335625,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":82876714,"millis":82.876714,"status":"passed"},"step":{"line":18,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:38.785 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_donna@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 351\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"organizationName\":\"test_donnas-media\",\"userEmails\":[\"test_daisy@test.whitebrick.com\"],\"roleName\":\"organization_external_user\"},\"query\":\"mutation ($organizationName: String!, $userEmails: [String]!, $roleName: String!){\\n  wbSetOrganizationUsersRole(organizationName: $organizationName, userEmails: $userEmails, roleName: $roleName)\\n}\"}\n\n19:56:38.866 response time in milliseconds: 81\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 45\n1 < vary: origin\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:38 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"data\":{\"wbSetOrganizationUsersRole\":true}}\n"},{"result":{"nanos":33865,"millis":0.033865,"status":"passed"},"step":{"line":19,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Set organization role","description":"","durationMillis":84.137771,"startTime":1626134198782,"failed":false,"refId":"[1:7]","endTime":1626134198867,"exampleIndex":-1}],"name":"","passedCount":1},{"prefixedPath":"organizations\/organization-set-users-role.feature","loopIndex":2,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":91.044545,"callArg":{"currentUserEmail":"test_donna@test.whitebrick.com","organizationName":"test_admins-org","userEmails":["test_daisy@test.whitebrick.com"],"roleName":"organization_administrator"},"failedCount":0,"packageQualifiedName":"organizations.organization-set-users-role","relativePath":"organizations\/organization-set-users-role.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":39603,"millis":0.039603,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":281654,"millis":0.281654,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":125408,"millis":0.125408,"status":"passed"},"step":{"endLine":13,"line":8,"prefix":"Given","docString":"mutation ($organizationName: String!, $userEmails: [String]!, $roleName: String!){\n  wbSetOrganizationUsersRole(organizationName: $organizationName, userEmails: $userEmails, roleName: $roleName)\n}","index":0,"text":"text query ="}},{"result":{"nanos":508488,"millis":0.508488,"status":"passed"},"step":{"comments":["# Given def query = read(\"test.gql\")"],"line":15,"prefix":"And","index":1,"text":"def variables = { organizationName: \"#(organizationName)\", roleName: \"#(roleName)\", userEmails: \"#(userEmails)\" }"}},{"result":{"nanos":15808,"millis":0.015808,"status":"passed"},"step":{"line":16,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":340112,"millis":0.340112,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":89722422,"millis":89.722422,"status":"passed"},"step":{"line":18,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:38.875 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_donna@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 349\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"organizationName\":\"test_admins-org\",\"userEmails\":[\"test_daisy@test.whitebrick.com\"],\"roleName\":\"organization_administrator\"},\"query\":\"mutation ($organizationName: String!, $userEmails: [String]!, $roleName: String!){\\n  wbSetOrganizationUsersRole(organizationName: $organizationName, userEmails: $userEmails, roleName: $roleName)\\n}\"}\n\n19:56:38.963 response time in milliseconds: 87\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 45\n1 < vary: origin\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:38 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"data\":{\"wbSetOrganizationUsersRole\":true}}\n"},{"result":{"nanos":11050,"millis":0.01105,"status":"passed"},"step":{"line":19,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Set organization role","description":"","durationMillis":91.044545,"startTime":1626134198872,"failed":false,"refId":"[1:7]","endTime":1626134198964,"exampleIndex":-1}],"name":"","passedCount":1},{"prefixedPath":"organizations\/organization-set-users-role.feature","loopIndex":3,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":69.841912,"callArg":{"currentUserEmail":"test_nick_north@test.whitebrick.com","organizationName":"test_vandelay","userEmails":["test_donna@test.whitebrick.com","test_daisy@test.whitebrick.com"],"roleName":"organization_user"},"failedCount":0,"packageQualifiedName":"organizations.organization-set-users-role","relativePath":"organizations\/organization-set-users-role.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":14782,"millis":0.014782,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":237946,"millis":0.237946,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":61484,"millis":0.061484,"status":"passed"},"step":{"endLine":13,"line":8,"prefix":"Given","docString":"mutation ($organizationName: String!, $userEmails: [String]!, $roleName: String!){\n  wbSetOrganizationUsersRole(organizationName: $organizationName, userEmails: $userEmails, roleName: $roleName)\n}","index":0,"text":"text query ="}},{"result":{"nanos":409858,"millis":0.409858,"status":"passed"},"step":{"comments":["# Given def query = read(\"test.gql\")"],"line":15,"prefix":"And","index":1,"text":"def variables = { organizationName: \"#(organizationName)\", roleName: \"#(roleName)\", userEmails: \"#(userEmails)\" }"}},{"result":{"nanos":12990,"millis":0.01299,"status":"passed"},"step":{"line":16,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":251375,"millis":0.251375,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":68845374,"millis":68.845374,"status":"passed"},"step":{"line":18,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:38.970 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_nick_north@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 371\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"organizationName\":\"test_vandelay\",\"userEmails\":[\"test_donna@test.whitebrick.com\",\"test_daisy@test.whitebrick.com\"],\"roleName\":\"organization_user\"},\"query\":\"mutation ($organizationName: String!, $userEmails: [String]!, $roleName: String!){\\n  wbSetOrganizationUsersRole(organizationName: $organizationName, userEmails: $userEmails, roleName: $roleName)\\n}\"}\n\n19:56:39.037 response time in milliseconds: 67\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 45\n1 < vary: origin\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:39 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"data\":{\"wbSetOrganizationUsersRole\":true}}\n"},{"result":{"nanos":8103,"millis":0.008103,"status":"passed"},"step":{"line":19,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Set organization role","description":"","durationMillis":69.841912,"startTime":1626134198967,"failed":false,"refId":"[1:7]","endTime":1626134199038,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":1002842,"millis":1.002842,"status":"passed"},"step":{"line":25,"prefix":"*","index":2,"text":"match each result[*].response contains { errors: \"#notpresent\" }"}}],"executorName":"main","line":17,"name":"Organization admins can add users to organizations","description":"","durationMillis":369.835733,"startTime":1626134198668,"failed":false,"refId":"[2:17]","endTime":1626134199039,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":17896,"millis":0.017896,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":213477,"millis":0.213477,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":131595,"millis":0.131595,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"configure readTimeout = 600000"}},{"result":{"nanos":763986,"millis":0.763986,"status":"passed"},"step":{"endLine":30,"line":28,"prefix":"*","index":0,"text":"table organizationUsers","table":[{"line":29,"row":["currentUserEmail","organizationName","roleName","userEmails"]},{"line":30,"row":["\"test_daisy@test.whitebrick.com\"","\"test_vandelay\"","\"organization_user\"","[\"test_debbie@test.whitebrick.com\"]"]}]}},{"result":{"nanos":74898143,"millis":74.898143,"status":"passed"},"step":{"line":31,"prefix":"*","index":1,"text":"def result = call read(\"organization-set-users-role.feature\") organizationUsers"},"callResults":[{"prefixedPath":"organizations\/organization-set-users-role.feature","loopIndex":0,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":69.916427,"callArg":{"currentUserEmail":"test_daisy@test.whitebrick.com","organizationName":"test_vandelay","userEmails":["test_debbie@test.whitebrick.com"],"roleName":"organization_user"},"failedCount":0,"packageQualifiedName":"organizations.organization-set-users-role","relativePath":"organizations\/organization-set-users-role.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":17655,"millis":0.017655,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":242782,"millis":0.242782,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":78111,"millis":0.078111,"status":"passed"},"step":{"endLine":13,"line":8,"prefix":"Given","docString":"mutation ($organizationName: String!, $userEmails: [String]!, $roleName: String!){\n  wbSetOrganizationUsersRole(organizationName: $organizationName, userEmails: $userEmails, roleName: $roleName)\n}","index":0,"text":"text query ="}},{"result":{"nanos":368510,"millis":0.36851,"status":"passed"},"step":{"comments":["# Given def query = read(\"test.gql\")"],"line":15,"prefix":"And","index":1,"text":"def variables = { organizationName: \"#(organizationName)\", roleName: \"#(roleName)\", userEmails: \"#(userEmails)\" }"}},{"result":{"nanos":25364,"millis":0.025364,"status":"passed"},"step":{"line":16,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":191660,"millis":0.19166,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":68968437,"millis":68.968437,"status":"passed"},"step":{"line":18,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:39.050 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_daisy@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 339\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"organizationName\":\"test_vandelay\",\"userEmails\":[\"test_debbie@test.whitebrick.com\"],\"roleName\":\"organization_user\"},\"query\":\"mutation ($organizationName: String!, $userEmails: [String]!, $roleName: String!){\\n  wbSetOrganizationUsersRole(organizationName: $organizationName, userEmails: $userEmails, roleName: $roleName)\\n}\"}\n\n19:56:39.117 response time in milliseconds: 66\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < vary: origin,accept-encoding\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:39 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Transfer-Encoding: chunked\n{\"data\":{\"wbSetOrganizationUsersRole\":null},\"errors\":[{\"path\":[\"wbSetOrganizationUsersRole\"],\"extensions\":{\"exception\":{\"stacktrace\":[\"Error: You do not have permission to Manage Access to this Organization. Values: userEmail=test_daisy@test.whitebrick.com, userId=21750, objectId=978, userAction=manage_access_to_organization, checkedForRoleName=organization_user, checkedAt=Mon Jul 12 2021 19:56:39 GMT-0400 (Eastern Daylight Time)\",\"    at apolloErr (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:5373:12)\",\"    at WhitebrickCloud.err (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:4032:16)\",\"    at \\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3398:39\",\"    at Generator.next (<anonymous>)\",\"    at fulfilled (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3260:58)\",\"    at runMicrotasks (<anonymous>)\",\"    at processTicksAndRejections (node:internal\\\/process\\\/task_queues:94:5)\"],\"wbCode\":\"WB_FORBIDDEN\"},\"code\":\"FORBIDDEN\",\"wbCode\":\"WB_FORBIDDEN\"},\"nodes\":[{\"loc\":{\"start\":85,\"end\":194},\"directives\":[],\"kind\":\"Field\",\"name\":{\"loc\":{\"start\":85,\"end\":111},\"kind\":\"Name\",\"value\":\"wbSetOrganizationUsersRole\"},\"arguments\":[{\"loc\":{\"start\":112,\"end\":147},\"kind\":\"Argument\",\"name\":{\"loc\":{\"start\":112,\"end\":128},\"kind\":\"Name\",\"value\":\"organizationName\"},\"value\":{\"loc\":{\"start\":130,\"end\":147},\"kind\":\"Variable\",\"name\":{\"loc\":{\"start\":131,\"end\":147},\"kind\":\"Name\",\"value\":\"organizationName\"}}},{\"loc\":{\"start\":149,\"end\":172},\"kind\":\"Argument\",\"name\":{\"loc\":{\"start\":149,\"end\":159},\"kind\":\"Name\",\"value\":\"userEmails\"},\"value\":{\"loc\":{\"start\":161,\"end\":172},\"kind\":\"Variable\",\"name\":{\"loc\":{\"start\":162,\"end\":172},\"kind\":\"Name\",\"value\":\"userEmails\"}}},{\"loc\":{\"start\":174,\"end\":193},\"kind\":\"Argument\",\"name\":{\"loc\":{\"start\":174,\"end\":182},\"kind\":\"Name\",\"value\":\"roleName\"},\"value\":{\"loc\":{\"start\":184,\"end\":193},\"kind\":\"Variable\",\"name\":{\"loc\":{\"start\":185,\"end\":193},\"kind\":\"Name\",\"value\":\"roleName\"}}}]}],\"originalError\":{\"stack\":\"Error: You do not have permission to Manage Access to this Organization. Values: userEmail=test_daisy@test.whitebrick.com, userId=21750, objectId=978, userAction=manage_access_to_organization, checkedForRoleName=organization_user, checkedAt=Mon Jul 12 2021 19:56:39 GMT-0400 (Eastern Daylight Time)\\n    at apolloErr (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:5373:12)\\n    at WhitebrickCloud.err (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:4032:16)\\n    at \\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3398:39\\n    at Generator.next (<anonymous>)\\n    at fulfilled (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3260:58)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal\\\/process\\\/task_queues:94:5)\",\"extensions\":{\"code\":\"FORBIDDEN\",\"wbCode\":\"WB_FORBIDDEN\"},\"message\":\"You do not have permission to Manage Access to this Organization. Values: userEmail=test_daisy@test.whitebrick.com, userId=21750, objectId=978, userAction=manage_access_to_organization, checkedForRoleName=organization_user, checkedAt=Mon Jul 12 2021 19:56:39 GMT-0400 (Eastern Daylight Time)\",\"wbCode\":\"WB_FORBIDDEN\"},\"name\":\"GraphQLError\",\"locations\":[{\"line\":2,\"column\":3}],\"positions\":[85],\"source\":{\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1},\"body\":\"mutation ($organizationName: String!, $userEmails: [String]!, $roleName: String!){\\n  wbSetOrganizationUsersRole(organizationName: $organizationName, userEmails: $userEmails, roleName: $roleName)\\n}\"},\"message\":\"You do not have permission to Manage Access to this Organization. Values: userEmail=test_daisy@test.whitebrick.com, userId=21750, objectId=978, userAction=manage_access_to_organization, checkedForRoleName=organization_user, checkedAt=Mon Jul 12 2021 19:56:39 GMT-0400 (Eastern Daylight Time)\"}]}\n"},{"result":{"nanos":23908,"millis":0.023908,"status":"passed"},"step":{"line":19,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Set organization role","description":"","durationMillis":69.916427,"startTime":1626134199048,"failed":false,"refId":"[1:7]","endTime":1626134199118,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":443941,"millis":0.443941,"status":"passed"},"step":{"line":32,"prefix":"*","index":2,"text":"match each result[*].response contains { errors: \"#present\" }"}},{"result":{"nanos":763145,"millis":0.763145,"status":"passed"},"step":{"line":33,"prefix":"*","index":3,"text":"match each result[*].response.errors[*].extensions.wbCode == \"WB_FORBIDDEN\""}}],"executorName":"main","line":27,"name":"Organization non-admins can not add users to organizations","description":"","durationMillis":77.232183,"startTime":1626134199042,"failed":false,"refId":"[3:27]","endTime":1626134199120,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":13969,"millis":0.013969,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":155896,"millis":0.155896,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":104762,"millis":0.104762,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"configure readTimeout = 600000"}},{"result":{"nanos":380856,"millis":0.380856,"status":"passed"},"step":{"endLine":38,"line":36,"prefix":"*","index":0,"text":"table organizationUsers","table":[{"line":37,"row":["currentUserEmail","organizationName","userEmails"]},{"line":38,"row":["\"test_daisy@test.whitebrick.com\"","\"test_vandelay\"","[\"test_donna@test.whitebrick.com\"]"]}]}},{"result":{"nanos":84292507,"millis":84.292507,"status":"passed"},"step":{"line":39,"prefix":"*","index":1,"text":"def result = call read(\"organization-remove-user.feature\") organizationUsers"},"callResults":[{"prefixedPath":"organizations\/organization-remove-user.feature","loopIndex":0,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":77.550164,"callArg":{"currentUserEmail":"test_daisy@test.whitebrick.com","organizationName":"test_vandelay","userEmails":["test_donna@test.whitebrick.com"]},"failedCount":0,"packageQualifiedName":"organizations.organization-remove-user","relativePath":"organizations\/organization-remove-user.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":22504,"millis":0.022504,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":335867,"millis":0.335867,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":91334,"millis":0.091334,"status":"passed"},"step":{"endLine":13,"line":8,"prefix":"Given","docString":"mutation ($userEmails: [String]!, $organizationName: String!){\n  wbRemoveUsersFromOrganization(userEmails: $userEmails, organizationName: $organizationName)\n}","index":0,"text":"text query ="}},{"result":{"nanos":608599,"millis":0.608599,"status":"passed"},"step":{"comments":["# Given def query = read(\"test.gql\")"],"line":15,"prefix":"And","index":1,"text":"def variables = { userEmails: \"#(userEmails)\", organizationName: \"#(organizationName)\"}"}},{"result":{"nanos":23629,"millis":0.023629,"status":"passed"},"step":{"line":16,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":305197,"millis":0.305197,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":76153664,"millis":76.153664,"status":"passed"},"step":{"line":18,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:39.133 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_daisy@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 269\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"organizationName\":\"test_vandelay\",\"userEmails\":[\"test_donna@test.whitebrick.com\"]},\"query\":\"mutation ($userEmails: [String]!, $organizationName: String!){\\n  wbRemoveUsersFromOrganization(userEmails: $userEmails, organizationName: $organizationName)\\n}\"}\n\n19:56:39.207 response time in milliseconds: 72\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < vary: origin,accept-encoding\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:39 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Transfer-Encoding: chunked\n{\"data\":{\"wbRemoveUsersFromOrganization\":null},\"errors\":[{\"path\":[\"wbRemoveUsersFromOrganization\"],\"extensions\":{\"exception\":{\"stacktrace\":[\"Error: You do not have permission to Manage Access to this Organization. Values: userEmail=test_daisy@test.whitebrick.com, userId=21750, objectId=978, userAction=manage_access_to_organization, checkedForRoleName=organization_user, checkedAt=Mon Jul 12 2021 19:56:39 GMT-0400 (Eastern Daylight Time)\",\"    at apolloErr (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:5373:12)\",\"    at WhitebrickCloud.err (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:4032:16)\",\"    at \\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3405:39\",\"    at Generator.next (<anonymous>)\",\"    at fulfilled (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3260:58)\",\"    at runMicrotasks (<anonymous>)\",\"    at processTicksAndRejections (node:internal\\\/process\\\/task_queues:94:5)\"],\"wbCode\":\"WB_FORBIDDEN\"},\"code\":\"FORBIDDEN\",\"wbCode\":\"WB_FORBIDDEN\"},\"nodes\":[{\"loc\":{\"start\":65,\"end\":156},\"directives\":[],\"kind\":\"Field\",\"name\":{\"loc\":{\"start\":65,\"end\":94},\"kind\":\"Name\",\"value\":\"wbRemoveUsersFromOrganization\"},\"arguments\":[{\"loc\":{\"start\":95,\"end\":118},\"kind\":\"Argument\",\"name\":{\"loc\":{\"start\":95,\"end\":105},\"kind\":\"Name\",\"value\":\"userEmails\"},\"value\":{\"loc\":{\"start\":107,\"end\":118},\"kind\":\"Variable\",\"name\":{\"loc\":{\"start\":108,\"end\":118},\"kind\":\"Name\",\"value\":\"userEmails\"}}},{\"loc\":{\"start\":120,\"end\":155},\"kind\":\"Argument\",\"name\":{\"loc\":{\"start\":120,\"end\":136},\"kind\":\"Name\",\"value\":\"organizationName\"},\"value\":{\"loc\":{\"start\":138,\"end\":155},\"kind\":\"Variable\",\"name\":{\"loc\":{\"start\":139,\"end\":155},\"kind\":\"Name\",\"value\":\"organizationName\"}}}]}],\"originalError\":{\"stack\":\"Error: You do not have permission to Manage Access to this Organization. Values: userEmail=test_daisy@test.whitebrick.com, userId=21750, objectId=978, userAction=manage_access_to_organization, checkedForRoleName=organization_user, checkedAt=Mon Jul 12 2021 19:56:39 GMT-0400 (Eastern Daylight Time)\\n    at apolloErr (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:5373:12)\\n    at WhitebrickCloud.err (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:4032:16)\\n    at \\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3405:39\\n    at Generator.next (<anonymous>)\\n    at fulfilled (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3260:58)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal\\\/process\\\/task_queues:94:5)\",\"extensions\":{\"code\":\"FORBIDDEN\",\"wbCode\":\"WB_FORBIDDEN\"},\"message\":\"You do not have permission to Manage Access to this Organization. Values: userEmail=test_daisy@test.whitebrick.com, userId=21750, objectId=978, userAction=manage_access_to_organization, checkedForRoleName=organization_user, checkedAt=Mon Jul 12 2021 19:56:39 GMT-0400 (Eastern Daylight Time)\",\"wbCode\":\"WB_FORBIDDEN\"},\"name\":\"GraphQLError\",\"locations\":[{\"line\":2,\"column\":3}],\"positions\":[65],\"source\":{\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1},\"body\":\"mutation ($userEmails: [String]!, $organizationName: String!){\\n  wbRemoveUsersFromOrganization(userEmails: $userEmails, organizationName: $organizationName)\\n}\"},\"message\":\"You do not have permission to Manage Access to this Organization. Values: userEmail=test_daisy@test.whitebrick.com, userId=21750, objectId=978, userAction=manage_access_to_organization, checkedForRoleName=organization_user, checkedAt=Mon Jul 12 2021 19:56:39 GMT-0400 (Eastern Daylight Time)\"}]}\n"},{"result":{"nanos":9370,"millis":0.00937,"status":"passed"},"step":{"line":19,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Remove a user from an organization","description":"","durationMillis":77.550164,"startTime":1626134199130,"failed":false,"refId":"[1:7]","endTime":1626134199208,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":360073,"millis":0.360073,"status":"passed"},"step":{"line":40,"prefix":"*","index":2,"text":"match each result[*].response contains { errors: \"#present\" }"}},{"result":{"nanos":383232,"millis":0.383232,"status":"passed"},"step":{"line":41,"prefix":"*","index":3,"text":"match each result[*].response.errors[*].extensions.wbCode == \"WB_FORBIDDEN\""}}],"executorName":"main","line":35,"name":"Organization non-admins can not remove users from an organization","description":"","durationMillis":85.691295,"startTime":1626134199122,"failed":false,"refId":"[4:35]","endTime":1626134199209,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":11787,"millis":0.011787,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":161015,"millis":0.161015,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":99163,"millis":0.099163,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"configure readTimeout = 600000"}},{"result":{"nanos":285913,"millis":0.285913,"status":"passed"},"step":{"endLine":47,"line":45,"prefix":"*","index":0,"text":"table organizationUsers","table":[{"line":46,"row":["currentUserEmail","organizationName","userEmails"]},{"line":47,"row":["\"test_nick_north@test.whitebrick.com\"","\"test_vandelay\"","[\"test_daisy@test.whitebrick.com\", \"test_nick_north@test.whitebrick.com\"]"]}]}},{"result":{"nanos":76205462,"millis":76.205462,"status":"passed"},"step":{"line":48,"prefix":"*","index":1,"text":"def result = call read(\"organization-remove-user.feature\") organizationUsers"},"callResults":[{"prefixedPath":"organizations\/organization-remove-user.feature","loopIndex":0,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":71.694248,"callArg":{"currentUserEmail":"test_nick_north@test.whitebrick.com","organizationName":"test_vandelay","userEmails":["test_daisy@test.whitebrick.com","test_nick_north@test.whitebrick.com"]},"failedCount":0,"packageQualifiedName":"organizations.organization-remove-user","relativePath":"organizations\/organization-remove-user.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":15946,"millis":0.015946,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":232784,"millis":0.232784,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":69741,"millis":0.069741,"status":"passed"},"step":{"endLine":13,"line":8,"prefix":"Given","docString":"mutation ($userEmails: [String]!, $organizationName: String!){\n  wbRemoveUsersFromOrganization(userEmails: $userEmails, organizationName: $organizationName)\n}","index":0,"text":"text query ="}},{"result":{"nanos":548410,"millis":0.54841,"status":"passed"},"step":{"comments":["# Given def query = read(\"test.gql\")"],"line":15,"prefix":"And","index":1,"text":"def variables = { userEmails: \"#(userEmails)\", organizationName: \"#(organizationName)\"}"}},{"result":{"nanos":17141,"millis":0.017141,"status":"passed"},"step":{"line":16,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":224050,"millis":0.22405,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":70577113,"millis":70.577113,"status":"passed"},"step":{"line":18,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:39.219 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_nick_north@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 307\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"organizationName\":\"test_vandelay\",\"userEmails\":[\"test_daisy@test.whitebrick.com\",\"test_nick_north@test.whitebrick.com\"]},\"query\":\"mutation ($userEmails: [String]!, $organizationName: String!){\\n  wbRemoveUsersFromOrganization(userEmails: $userEmails, organizationName: $organizationName)\\n}\"}\n\n19:56:39.288 response time in milliseconds: 68\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < vary: origin,accept-encoding\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:39 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Transfer-Encoding: chunked\n{\"data\":{\"wbRemoveUsersFromOrganization\":null},\"errors\":[{\"path\":[\"wbRemoveUsersFromOrganization\"],\"extensions\":{\"exception\":{\"stacktrace\":[\"Error: You can not remove all Administrators from an Organization - you must leave at least one.\",\"    at apolloErr (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:5373:12)\",\"    at WhitebrickCloud.err (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:4032:16)\",\"    at \\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3405:39\",\"    at Generator.next (<anonymous>)\",\"    at fulfilled (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3260:58)\",\"    at runMicrotasks (<anonymous>)\",\"    at processTicksAndRejections (node:internal\\\/process\\\/task_queues:94:5)\"],\"wbCode\":\"WB_ORGANIZATION_NO_ADMINS\"},\"code\":\"BAD_USER_INPUT\",\"wbCode\":\"WB_ORGANIZATION_NO_ADMINS\"},\"nodes\":[{\"loc\":{\"start\":65,\"end\":156},\"directives\":[],\"kind\":\"Field\",\"name\":{\"loc\":{\"start\":65,\"end\":94},\"kind\":\"Name\",\"value\":\"wbRemoveUsersFromOrganization\"},\"arguments\":[{\"loc\":{\"start\":95,\"end\":118},\"kind\":\"Argument\",\"name\":{\"loc\":{\"start\":95,\"end\":105},\"kind\":\"Name\",\"value\":\"userEmails\"},\"value\":{\"loc\":{\"start\":107,\"end\":118},\"kind\":\"Variable\",\"name\":{\"loc\":{\"start\":108,\"end\":118},\"kind\":\"Name\",\"value\":\"userEmails\"}}},{\"loc\":{\"start\":120,\"end\":155},\"kind\":\"Argument\",\"name\":{\"loc\":{\"start\":120,\"end\":136},\"kind\":\"Name\",\"value\":\"organizationName\"},\"value\":{\"loc\":{\"start\":138,\"end\":155},\"kind\":\"Variable\",\"name\":{\"loc\":{\"start\":139,\"end\":155},\"kind\":\"Name\",\"value\":\"organizationName\"}}}]}],\"originalError\":{\"stack\":\"Error: You can not remove all Administrators from an Organization - you must leave at least one.\\n    at apolloErr (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:5373:12)\\n    at WhitebrickCloud.err (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:4032:16)\\n    at \\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3405:39\\n    at Generator.next (<anonymous>)\\n    at fulfilled (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3260:58)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal\\\/process\\\/task_queues:94:5)\",\"extensions\":{\"code\":\"BAD_USER_INPUT\",\"wbCode\":\"WB_ORGANIZATION_NO_ADMINS\"},\"message\":\"You can not remove all Administrators from an Organization - you must leave at least one.\",\"wbCode\":\"WB_ORGANIZATION_NO_ADMINS\"},\"name\":\"GraphQLError\",\"locations\":[{\"line\":2,\"column\":3}],\"positions\":[65],\"source\":{\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1},\"body\":\"mutation ($userEmails: [String]!, $organizationName: String!){\\n  wbRemoveUsersFromOrganization(userEmails: $userEmails, organizationName: $organizationName)\\n}\"},\"message\":\"You can not remove all Administrators from an Organization - you must leave at least one.\"}]}\n"},{"result":{"nanos":9063,"millis":0.009063,"status":"passed"},"step":{"line":19,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Remove a user from an organization","description":"","durationMillis":71.694248,"startTime":1626134199216,"failed":false,"refId":"[1:7]","endTime":1626134199288,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":339368,"millis":0.339368,"status":"passed"},"step":{"line":49,"prefix":"*","index":2,"text":"match each result[*].response contains { errors: \"#present\" }"}},{"result":{"nanos":640070,"millis":0.64007,"status":"passed"},"step":{"line":50,"prefix":"*","index":3,"text":"match each result[*].response.errors[*].extensions.wbCode == \"WB_ORGANIZATION_NO_ADMINS\""}}],"executorName":"main","line":44,"name":"Organization admins can not remove all admins from an organization","description":"","durationMillis":77.742778,"startTime":1626134199211,"failed":false,"refId":"[5:44]","endTime":1626134199289,"exampleIndex":-1},{"sectionIndex":5,"stepResults":[{"result":{"nanos":378220,"millis":0.37822,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":417718,"millis":0.417718,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":92093,"millis":0.092093,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"configure readTimeout = 600000"}},{"result":{"nanos":321758,"millis":0.321758,"status":"passed"},"step":{"endLine":55,"line":53,"prefix":"*","index":0,"text":"table organizationUsers","table":[{"line":54,"row":["currentUserEmail","organizationName","userEmails"]},{"line":55,"row":["\"test_nick_north@test.whitebrick.com\"","\"test_vandelay\"","[\"test_donna@test.whitebrick.com\", \"test_daisy@test.whitebrick.com\"]"]}]}},{"result":{"nanos":72682560,"millis":72.68256,"status":"passed"},"step":{"line":56,"prefix":"*","index":1,"text":"def result = call read(\"organization-remove-user.feature\") organizationUsers"},"callResults":[{"prefixedPath":"organizations\/organization-remove-user.feature","loopIndex":0,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":69.036297,"callArg":{"currentUserEmail":"test_nick_north@test.whitebrick.com","organizationName":"test_vandelay","userEmails":["test_donna@test.whitebrick.com","test_daisy@test.whitebrick.com"]},"failedCount":0,"packageQualifiedName":"organizations.organization-remove-user","relativePath":"organizations\/organization-remove-user.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":29444,"millis":0.029444,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":176773,"millis":0.176773,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":82322,"millis":0.082322,"status":"passed"},"step":{"endLine":13,"line":8,"prefix":"Given","docString":"mutation ($userEmails: [String]!, $organizationName: String!){\n  wbRemoveUsersFromOrganization(userEmails: $userEmails, organizationName: $organizationName)\n}","index":0,"text":"text query ="}},{"result":{"nanos":357902,"millis":0.357902,"status":"passed"},"step":{"comments":["# Given def query = read(\"test.gql\")"],"line":15,"prefix":"And","index":1,"text":"def variables = { userEmails: \"#(userEmails)\", organizationName: \"#(organizationName)\"}"}},{"result":{"nanos":14484,"millis":0.014484,"status":"passed"},"step":{"line":16,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":195622,"millis":0.195622,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":68170736,"millis":68.170736,"status":"passed"},"step":{"line":18,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:39.299 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_nick_north@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 302\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"organizationName\":\"test_vandelay\",\"userEmails\":[\"test_donna@test.whitebrick.com\",\"test_daisy@test.whitebrick.com\"]},\"query\":\"mutation ($userEmails: [String]!, $organizationName: String!){\\n  wbRemoveUsersFromOrganization(userEmails: $userEmails, organizationName: $organizationName)\\n}\"}\n\n19:56:39.365 response time in milliseconds: 66\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 48\n1 < vary: origin\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:39 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"data\":{\"wbRemoveUsersFromOrganization\":true}}\n"},{"result":{"nanos":9014,"millis":0.009014,"status":"passed"},"step":{"line":19,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Remove a user from an organization","description":"","durationMillis":69.036297,"startTime":1626134199297,"failed":false,"refId":"[1:7]","endTime":1626134199366,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":320436,"millis":0.320436,"status":"passed"},"step":{"line":57,"prefix":"*","index":2,"text":"match each result[*].response contains { errors: \"#notpresent\" }"}}],"executorName":"main","line":52,"name":"Organization admins can remove users from an organization","description":"","durationMillis":74.212785,"startTime":1626134199292,"failed":false,"refId":"[6:52]","endTime":1626134199366,"exampleIndex":-1},{"sectionIndex":6,"stepResults":[{"result":{"nanos":15259,"millis":0.015259,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":143440,"millis":0.14344,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":123951,"millis":0.123951,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"configure readTimeout = 600000"}},{"result":{"nanos":306165,"millis":0.306165,"status":"passed"},"step":{"endLine":62,"line":60,"prefix":"*","index":0,"text":"table organizations","table":[{"line":61,"row":["currentUserEmail","name"]},{"line":62,"row":["\"test_daisy@test.whitebrick.com\"","\"test_vandelay\""]}]}},{"result":{"nanos":72195377,"millis":72.195377,"status":"passed"},"step":{"line":63,"prefix":"*","index":1,"text":"def result = call read(\"organization-delete.feature\") organizations"},"callResults":[{"prefixedPath":"organizations\/organization-delete.feature","loopIndex":0,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":67.368428,"callArg":{"currentUserEmail":"test_daisy@test.whitebrick.com","name":"test_vandelay"},"failedCount":0,"packageQualifiedName":"organizations.organization-delete","relativePath":"organizations\/organization-delete.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":8825,"millis":0.008825,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":236826,"millis":0.236826,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":58870,"millis":0.05887,"status":"passed"},"step":{"endLine":13,"line":8,"prefix":"Given","docString":"mutation ($name: String!){\n  wbDeleteOrganization(name: $name)\n}","index":0,"text":"text query ="}},{"result":{"nanos":242414,"millis":0.242414,"status":"passed"},"step":{"line":14,"prefix":"And","index":1,"text":"def variables = { name: \"#(name)\"}"}},{"result":{"nanos":12430,"millis":0.01243,"status":"passed"},"step":{"line":15,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":346627,"millis":0.346627,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":66449245,"millis":66.449245,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:39.377 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_daisy@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 115\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"name\":\"test_vandelay\"},\"query\":\"mutation ($name: String!){\\n  wbDeleteOrganization(name: $name)\\n}\"}\n\n19:56:39.441 response time in milliseconds: 63\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < vary: origin,accept-encoding\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:39 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Transfer-Encoding: chunked\n{\"data\":{\"wbDeleteOrganization\":null},\"errors\":[{\"path\":[\"wbDeleteOrganization\"],\"extensions\":{\"exception\":{\"stacktrace\":[\"Error: You do not have permission to Edit this Organization. Values: userEmail=test_daisy@test.whitebrick.com, userId=21750, objectId=978, userAction=edit_organization, checkedForRoleName=undefined, checkedAt=Mon Jul 12 2021 19:56:39 GMT-0400 (Eastern Daylight Time)\",\"    at apolloErr (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:5373:12)\",\"    at WhitebrickCloud.err (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:4032:16)\",\"    at \\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3391:39\",\"    at Generator.next (<anonymous>)\",\"    at fulfilled (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3260:58)\",\"    at runMicrotasks (<anonymous>)\",\"    at processTicksAndRejections (node:internal\\\/process\\\/task_queues:94:5)\"],\"wbCode\":\"WB_FORBIDDEN\"},\"code\":\"FORBIDDEN\",\"wbCode\":\"WB_FORBIDDEN\"},\"nodes\":[{\"loc\":{\"start\":29,\"end\":62},\"directives\":[],\"kind\":\"Field\",\"name\":{\"loc\":{\"start\":29,\"end\":49},\"kind\":\"Name\",\"value\":\"wbDeleteOrganization\"},\"arguments\":[{\"loc\":{\"start\":50,\"end\":61},\"kind\":\"Argument\",\"name\":{\"loc\":{\"start\":50,\"end\":54},\"kind\":\"Name\",\"value\":\"name\"},\"value\":{\"loc\":{\"start\":56,\"end\":61},\"kind\":\"Variable\",\"name\":{\"loc\":{\"start\":57,\"end\":61},\"kind\":\"Name\",\"value\":\"name\"}}}]}],\"originalError\":{\"stack\":\"Error: You do not have permission to Edit this Organization. Values: userEmail=test_daisy@test.whitebrick.com, userId=21750, objectId=978, userAction=edit_organization, checkedForRoleName=undefined, checkedAt=Mon Jul 12 2021 19:56:39 GMT-0400 (Eastern Daylight Time)\\n    at apolloErr (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:5373:12)\\n    at WhitebrickCloud.err (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:4032:16)\\n    at \\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3391:39\\n    at Generator.next (<anonymous>)\\n    at fulfilled (\\\/Users\\\/simon\\\/git\\\/whitebrick-cloud\\\/.webpack\\\/service\\\/src\\\/whitebrick-cloud.js:3260:58)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal\\\/process\\\/task_queues:94:5)\",\"extensions\":{\"code\":\"FORBIDDEN\",\"wbCode\":\"WB_FORBIDDEN\"},\"message\":\"You do not have permission to Edit this Organization. Values: userEmail=test_daisy@test.whitebrick.com, userId=21750, objectId=978, userAction=edit_organization, checkedForRoleName=undefined, checkedAt=Mon Jul 12 2021 19:56:39 GMT-0400 (Eastern Daylight Time)\",\"wbCode\":\"WB_FORBIDDEN\"},\"name\":\"GraphQLError\",\"locations\":[{\"line\":2,\"column\":3}],\"positions\":[29],\"source\":{\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1},\"body\":\"mutation ($name: String!){\\n  wbDeleteOrganization(name: $name)\\n}\"},\"message\":\"You do not have permission to Edit this Organization. Values: userEmail=test_daisy@test.whitebrick.com, userId=21750, objectId=978, userAction=edit_organization, checkedForRoleName=undefined, checkedAt=Mon Jul 12 2021 19:56:39 GMT-0400 (Eastern Daylight Time)\"}]}\n"},{"result":{"nanos":13191,"millis":0.013191,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Delete an Organization","description":"","durationMillis":67.368428,"startTime":1626134199374,"failed":false,"refId":"[1:7]","endTime":1626134199442,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":536823,"millis":0.536823,"status":"passed"},"step":{"line":64,"prefix":"*","index":2,"text":"match each result[*].response contains { errors: \"#present\" }"}},{"result":{"nanos":439347,"millis":0.439347,"status":"passed"},"step":{"line":65,"prefix":"*","index":3,"text":"match each result[*].response.errors[*].extensions.wbCode == \"WB_FORBIDDEN\""}}],"executorName":"main","line":59,"name":"Organization non-admins can not delete organizations","description":"","durationMillis":73.760362,"startTime":1626134199369,"failed":false,"refId":"[7:59]","endTime":1626134199443,"exampleIndex":-1},{"sectionIndex":7,"stepResults":[{"result":{"nanos":7957,"millis":0.007957,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":147373,"millis":0.147373,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":97799,"millis":0.097799,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"configure readTimeout = 600000"}},{"result":{"nanos":303418,"millis":0.303418,"status":"passed"},"step":{"endLine":70,"line":68,"prefix":"*","index":0,"text":"table organizations","table":[{"line":69,"row":["currentUserEmail","name"]},{"line":70,"row":["\"test_nick_north@test.whitebrick.com\"","\"test_vandelay\""]}]}},{"result":{"nanos":73003237,"millis":73.003237,"status":"passed"},"step":{"line":71,"prefix":"*","index":1,"text":"def result = call read(\"organization-delete.feature\") organizations"},"callResults":[{"prefixedPath":"organizations\/organization-delete.feature","loopIndex":0,"callDepth":1,"description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":69.232443,"callArg":{"currentUserEmail":"test_nick_north@test.whitebrick.com","name":"test_vandelay"},"failedCount":0,"packageQualifiedName":"organizations.organization-delete","relativePath":"organizations\/organization-delete.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":8475,"millis":0.008475,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":202669,"millis":0.202669,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"path endpointPath"}},{"result":{"nanos":50252,"millis":0.050252,"status":"passed"},"step":{"endLine":13,"line":8,"prefix":"Given","docString":"mutation ($name: String!){\n  wbDeleteOrganization(name: $name)\n}","index":0,"text":"text query ="}},{"result":{"nanos":241734,"millis":0.241734,"status":"passed"},"step":{"line":14,"prefix":"And","index":1,"text":"def variables = { name: \"#(name)\"}"}},{"result":{"nanos":13941,"millis":0.013941,"status":"passed"},"step":{"line":15,"prefix":"And","index":2,"text":"header X-Test-User-Email = currentUserEmail"}},{"result":{"nanos":171812,"millis":0.171812,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: \"#(query)\", variables: \"#(variables)\" }"}},{"result":{"nanos":68532878,"millis":68.532878,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method POST"},"stepLog":"19:56:39.452 request:\n1 > POST http:\/\/localhost:3000\/graphql\n1 > X-Test-User-Email: test_nick_north@test.whitebrick.com\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 115\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_66)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"name\":\"test_vandelay\"},\"query\":\"mutation ($name: String!){\\n  wbDeleteOrganization(name: $name)\\n}\"}\n\n19:56:39.519 response time in milliseconds: 66\n1 < 200\n1 < content-type: application\/json; charset=utf-8\n1 < content-length: 39\n1 < vary: origin\n1 < access-control-allow-credentials: true\n1 < access-control-expose-headers: WWW-Authenticate,Server-Authorization\n1 < cache-control: no-cache\n1 < Date: Mon, 12 Jul 2021 23:56:39 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"data\":{\"wbDeleteOrganization\":true}}\n"},{"result":{"nanos":10682,"millis":0.010682,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}}],"executorName":"main","line":7,"name":"Delete an Organization","description":"","durationMillis":69.232443,"startTime":1626134199450,"failed":false,"refId":"[1:7]","endTime":1626134199519,"exampleIndex":-1}],"name":"","passedCount":1}]},{"result":{"nanos":355028,"millis":0.355028,"status":"passed"},"step":{"line":72,"prefix":"*","index":2,"text":"match each result[*].response contains { errors: \"#notpresent\" }"}}],"executorName":"main","line":67,"name":"Organization admins can delete organizations","description":"","durationMillis":73.914812,"startTime":1626134199445,"failed":false,"refId":"[8:67]","endTime":1626134199520,"exampleIndex":-1}],"callDepth":0,"name":"Organizations","description":"","resultDate":"2021-07-12 07:56:39 PM","durationMillis":1676.061819,"passedCount":8}